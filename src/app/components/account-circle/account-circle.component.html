<div id="icon" (click)="this.toggleAccountMenu()">
  <img [style.display]="this.photoLoaded ? 'block' : 'none'" [src]="this.photoSrc" alt="Avatar" #avatar>
  <svg [style.display]="!this.photoLoaded ? 'block' : 'none'" xmlns="http://www.w3.org/2000/svg" height="48" width="48"
    viewBox="0,0,48,48">
    <path
      d="M11.1 35.25q3.15-2.2 6.25-3.375Q20.45 30.7 24 30.7q3.55 0 6.675 1.175t6.275 3.375q2.2-2.7 3.125-5.45Q41 27.05 41 24q0-7.25-4.875-12.125T24 7q-7.25 0-12.125 4.875T7 24q0 3.05.95 5.8t3.15 5.45ZM24 25.5q-2.9 0-4.875-1.975T17.15 18.65q0-2.9 1.975-4.875T24 11.8q2.9 0 4.875 1.975t1.975 4.875q0 2.9-1.975 4.875T24 25.5ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.775t4.3-6.35q2.725-2.725 6.375-4.3Q19.9 4 24 4q4.15 0 7.775 1.575t6.35 4.3q2.725 2.725 4.3 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.3 6.375-2.725 2.725-6.35 4.3Q28.15 44 24 44Zm0-3q2.75 0 5.375-.8t5.175-2.8q-2.55-1.8-5.2-2.75-2.65-.95-5.35-.95-2.7 0-5.35.95-2.65.95-5.2 2.75 2.55 2 5.175 2.8Q21.25 41 24 41Zm0-18.5q1.7 0 2.775-1.075t1.075-2.775q0-1.7-1.075-2.775T24 14.8q-1.7 0-2.775 1.075T20.15 18.65q0 1.7 1.075 2.775T24 22.5Zm0-3.85Zm0 18.7Z" />
  </svg>
</div>

<div *ngIf="this.showAccountMenu" (click)="this.toggleAccountMenu(false)" id="backdrop"></div>
<ul *ngIf="this.showAccountMenu" id="account-menu">
  <li (click)="this.toggleChangeEmailModal()">
    <span>Change Email</span>
    <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
      <path
        d="M24 44q-4.15 0-7.8-1.575-3.65-1.575-6.35-4.275-2.7-2.7-4.275-6.35Q4 28.15 4 24t1.575-7.8Q7.15 12.55 9.85 9.85q2.7-2.7 6.35-4.275Q19.85 4 24 4t7.8 1.575q3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24v2.65q0 2.8-1.975 4.725Q40.05 33.3 37.2 33.3q-1.8 0-3.4-.875-1.6-.875-2.45-2.475-1.3 1.7-3.25 2.525T24 33.3q-3.9 0-6.625-2.7T14.65 24q0-3.9 2.725-6.65Q20.1 14.6 24 14.6t6.625 2.75Q33.35 20.1 33.35 24v2.65q0 1.55 1.125 2.6T37.2 30.3q1.55 0 2.675-1.05Q41 28.2 41 26.65V24q0-7.1-4.95-12.05Q31.1 7 24 7q-7.1 0-12.05 4.95Q7 16.9 7 24q0 7.1 4.95 12.05Q16.9 41 24 41h10.7v3Zm0-13.7q2.65 0 4.5-1.825T30.35 24q0-2.7-1.85-4.55-1.85-1.85-4.5-1.85t-4.5 1.85Q17.65 21.3 17.65 24q0 2.65 1.85 4.475Q21.35 30.3 24 30.3Z" />
    </svg>
  </li>
  <li (click)="this.toggleChangeAvatarModal()">
    <span>Change Avatar</span>
    <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
      <path
        d="M24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.8 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24 4q4.15 0 7.8 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Zm0-37q-6.1 0-10.7 3.775T7.4 20.3q2.05 0 3.375-.975Q12.1 18.35 13.55 15.5q.7-1.4 2.025-2.2 1.325-.8 2.925-.8h11q1.6 0 2.925.8 1.325.8 2.025 2.2 1.45 3 2.9 3.9 1.45.9 3.25.9-1.3-5.75-5.875-9.525Q30.15 7 24 7Zm0 34q7.1 0 12.05-4.975Q41 31.05 41 24v-.6q-3.8 0-5.875-1.975T31.75 16.9q-.35-.7-.925-1.05-.575-.35-1.275-.35H18.5q-.75 0-1.325.35t-.925 1.05q-1.3 2.6-3.45 4.575Q10.65 23.45 7 23.45V24q0 7.05 4.975 12.025Q16.95 41 24 41Zm-6.3-12.15q-1.15 0-1.925-.775Q15 27.3 15 26.15t.775-1.925q.775-.775 1.925-.775t1.925.775q.775.775.775 1.925t-.775 1.925q-.775.775-1.925.775Zm12.65 0q-1.15 0-1.925-.775-.775-.775-.775-1.925t.775-1.925q.775-.775 1.925-.775t1.925.775q.775.775.775 1.925t-.775 1.925q-.775.775-1.925.775ZM24 12.5Z" />
    </svg>
  </li>
  <li (click)="this.toggleAccountDetailsModal()">
    <span>Account Info</span>
    <svg xmlns="http://www.w3.org/2000/svg" height="48" width="48" viewBox="0,0,48,48">
      <path
        d="M20 23.75q-3.3 0-5.4-2.1-2.1-2.1-2.1-5.4 0-3.3 2.1-5.4 2.1-2.1 5.4-2.1 3.3 0 5.4 2.1 2.1 2.1 2.1 5.4 0 3.3-2.1 5.4-2.1 2.1-5.4 2.1ZM4 39.8v-4.7q0-1.75.875-3.15T7.4 29.8q3.6-1.6 6.675-2.3 3.075-.7 5.925-.7h1.15q-.3.7-.45 1.375-.15.675-.25 1.625H20q-2.9 0-5.675.625T8.6 32.5q-.8.4-1.2 1.125Q7 34.35 7 35.1v1.7h13.45q.25.9.6 1.625t.85 1.375ZM33.35 42l-.5-3.3q-.85-.25-1.725-.725-.875-.475-1.475-1.075l-2.75.6-1.25-2.1L28 33.2q-.1-.45-.1-1.25t.1-1.25l-2.35-2.2 1.25-2.1 2.75.6q.6-.6 1.475-1.075.875-.475 1.725-.725l.5-3.3h2.7l.5 3.3q.85.25 1.725.725.875.475 1.475 1.075l2.75-.6 1.25 2.1-2.35 2.2q.1.45.1 1.25t-.1 1.25l2.35 2.2-1.25 2.1-2.75-.6q-.6.6-1.475 1.075-.875.475-1.725.725l-.5 3.3Zm1.35-6.05q1.8 0 2.9-1.1 1.1-1.1 1.1-2.9 0-1.8-1.1-2.9-1.1-1.1-2.9-1.1-1.8 0-2.9 1.1-1.1 1.1-1.1 2.9 0 1.8 1.1 2.9 1.1 1.1 2.9 1.1ZM20 20.75q1.95 0 3.225-1.275Q24.5 18.2 24.5 16.25q0-1.95-1.275-3.225Q21.95 11.75 20 11.75q-1.95 0-3.225 1.275Q15.5 14.3 15.5 16.25q0 1.95 1.275 3.225Q18.05 20.75 20 20.75Zm0-4.5Zm.45 20.55Z" />
    </svg>
  </li>
</ul>

<base-modal *ngIf="this.showChangeEmailModal" show modal-title="Change Email"
  (modal-closed)="this.toggleChangeEmailModal(false)">
  <app-change-email-form (submitted)="this.toggleChangeEmailModal(false)"></app-change-email-form>
</base-modal>
<base-modal *ngIf="this.showChangeAvatarModal" show modal-title="Change Avatar"
  (modal-closed)="this.toggleChangeAvatarModal(false)">
  <app-change-avatar-form (submitted)="this.toggleChangeAvatarModal(false)"></app-change-avatar-form>
</base-modal>
<base-modal *ngIf="this.showAccountDetailsModal" show modal-title="Account Details"
  (modal-closed)="this.toggleAccountDetailsModal(false)">
  <app-account-details-form (submitted)="this.toggleAccountDetailsModal(false)"></app-account-details-form>
</base-modal>
